---
const currentPath = Astro.url.pathname;

const navItems = [
  { href: '/', label: 'Home' },
  { href: '/menu', label: 'Menu' },
  { href: '/about', label: 'About' },
  { href: '/locations', label: 'Locations' },
  { href: '/contact', label: 'Contact' },
];
---

<header class="fixed top-0 left-0 right-0 bg-white shadow-md z-50">
  <nav class="container mx-auto px-4 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <a href="/" class="flex items-center space-x-2">
        <div class="w-12 h-12 bg-red-600 rounded-full flex items-center justify-center">
          <span class="text-white text-2xl font-bold">üçî</span>
        </div>
        <span class="text-2xl font-bold text-gray-900">FastBite</span>
      </a>

      <!-- Desktop Navigation -->
      <ul class="hidden md:flex items-center space-x-8">
        {navItems.map((item) => (
          <li>
            <a
              href={item.href}
              class={`text-gray-700 hover:text-red-600 transition-colors font-medium ${
                currentPath === item.href ? 'text-red-600 border-b-2 border-red-600' : ''
              }`}
            >
              {item.label}
            </a>
          </li>
        ))}
      </ul>

      <!-- CTA Button -->
      <div class="hidden md:flex items-center space-x-4">
        <a
          href="/order"
          class="bg-red-600 text-white px-6 py-2 rounded-full hover:bg-red-700 transition-colors font-semibold"
        >
          Order Now
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="md:hidden text-gray-700 hover:text-red-600 focus:outline-none"
        aria-label="Toggle menu"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div
      id="mobile-menu"
      class="hidden md:hidden pt-4 pb-2"
    >
      <ul class="space-y-2">
        {navItems.map((item) => (
          <li>
            <a
              href={item.href}
              class={`block px-4 py-2 text-gray-700 hover:bg-red-50 hover:text-red-600 rounded transition-colors ${
                currentPath === item.href ? 'bg-red-50 text-red-600' : ''
              }`}
            >
              {item.label}
            </a>
          </li>
        ))}
        <li>
          <a
            href="/order"
            class="block px-4 py-2 bg-red-600 text-white text-center rounded hover:bg-red-700 transition-colors font-semibold"
          >
            Order Now
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>

<!-- Spacer to prevent content from hiding under fixed header -->
<div class="h-20"></div>

<script>
  // Mobile menu toggle
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  mobileMenuButton?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  // Close mobile menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!mobileMenuButton?.contains(e.target as Node) && !mobileMenu?.contains(e.target as Node)) {
      mobileMenu?.classList.add('hidden');
    }
  });
</script>